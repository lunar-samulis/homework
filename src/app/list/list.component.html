<h1>
  Repositories
</h1>

<input #searchBox id="search-box" placeholder="search" autocomplete="Off" (input)="search(searchBox.value)" />
<p></p>
<div *ngIf="repositories$ | async as repos">
  <table *ngIf="repos.length">
    <tr>
      <td>Name</td>
      <td>Description</td>
      <td>Licence</td>
      <td>Link</td>
      <td>Starred?</td>
      <td>Language</td>
      <td>Contributors</td>
      <td>Stars</td>
      <td>Forks</td>
      <td>Issues</td>
      <td></td>
    </tr>

    <tr *ngFor="let repo of repos">
      <td>{{ repo.name }}</td>
      <td>{{ repo.description | slice:0:100 }}</td>
      <td>{{ repo.licence }}</td>
      <td><a [href]="repo.link">{{ repo.link }}</a></td>
      <td>
    <span *ngIf="repo.starred; else notStarred">
      YES
    </span>
        <ng-template #notStarred>
          no
        </ng-template>
      </td>
      <td>{{ repo.language }}</td>
      <td>{{ repo.contributors }}</td>
      <td>{{ repo.stars }}</td>
      <td>{{ repo.forks}}</td>
      <td>{{ repo.issues }}</td>
      <td><a routerLink="/details/{{repo.name}}"><button>[Details]</button></a></td>
    </tr>
  </table>
</div>

<div *ngIf="searching">
  Loading...
</div>

